(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function c(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=c(n);fetch(n.href,s)}})();let u;const U=new Uint8Array(16);function w(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(U)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function O(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}const N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),S={randomUUID:N};function B(e,t,c){if(S.randomUUID&&!t&&!e)return S.randomUUID();e=e||{};const o=e.random||(e.rng||w)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){c=c||0;for(let n=0;n<16;++n)t[c+n]=o[n];return t}return O(o)}const y=document.documentElement,F=document.getElementById("themeSelector"),R=document.querySelector("#clearTask"),k=document.querySelector("#createTask"),P=document.querySelector("form"),l=document.querySelector(".list"),V=document.querySelectorAll(".container:not(:first-child)"),m=document.querySelector(".logo"),b=document.querySelector("main"),a=document.querySelector(".filter"),M=document.querySelectorAll(".filter__btn"),h=document.querySelector(".control__task-count"),q=l.children,$=".list__item.task",A=".list__item.task.completed",L=".list__item.task:not(.completed)",p=()=>{const e=Array.from(q).map(t=>({id:t.querySelector("input").id,text:t.querySelector("p").textContent,completed:t.classList.contains("completed")}));localStorage.setItem("tasks",JSON.stringify(e))},j=()=>{(JSON.parse(localStorage.getItem("tasks"))||[]).forEach(t=>{const c=D(t.text,t.id,t.completed);l.appendChild(c)}),g(),v()},x=()=>{const e=window.innerWidth>=760,t=a.parentElement===b;e?(a.classList.remove("container"),t&&h.insertAdjacentElement("afterend",a)):!e&&!t&&(b.appendChild(a),a.classList.add("container"))};x();window.addEventListener("resize",()=>{x()});const f=e=>{document.querySelectorAll(e).forEach(t=>{t.removeAttribute("style"),t.classList.remove("filtered")})},C=e=>{document.querySelectorAll(e).forEach(t=>{t.classList.add("filtered"),setTimeout(()=>{t.style.display="none"},350)})},T=e=>{e.id=="filterAll"&&f($),e.id=="filterActive"&&(f(L),C(A)),e.id=="filterCompleted"&&(f(A),C(L))},J=e=>{var t;(t=document.querySelector(".selected"))==null||t.classList.remove("selected"),e.classList.add("selected"),T(e)};M.forEach(e=>{e.addEventListener("click",()=>{J(e)})});const v=()=>{let e=document.querySelectorAll(L).length;e>0?h.textContent=`${e} ${e===1?"item":"items"} left`:h.textContent=""},g=()=>{v(),V.forEach(e=>{q.length>0?e.style.display="flex":e.removeAttribute("style")})},_=(e,t)=>{t.classList.add("removing"),setTimeout(()=>{e.removeChild(t),p(),g()},350)},D=(e,t=B(),c=!1)=>{const o=document.createElement("li"),n=document.createElement("label"),s=document.createElement("input"),i=document.createElement("p"),d=document.createElement("button"),E=document.createElement("img");return o.classList.add("list__item","task"),c&&o.classList.add("completed"),o.setAttribute("draggable","true"),o.addEventListener("dragstart",()=>{o.classList.add("dragging")}),o.addEventListener("dragend",()=>{o.classList.remove("dragging")}),n.setAttribute("for",t),n.classList.add("sr-only"),n.textContent="Check box to complete task",s.type="checkbox",s.name="complete",s.id=t,s.classList.add("list__item-input"),s.checked=c,s.addEventListener("change",()=>{const I=document.querySelector(".selected");o.classList.toggle("completed"),p(),T(I),v()}),i.classList.add("list__item-text"),i.textContent=e,d.type="button",d.ariaLabel="remove task",d.id=`remove-${t}`,d.classList.add("list__btn-remove"),d.addEventListener("click",()=>{_(l,o)}),E.src="./icon-cross.svg",o.appendChild(n),o.appendChild(s),o.appendChild(i),d.appendChild(E),o.appendChild(d),o},z=()=>{const e=k.value.trim();if(e!==""){const t=D(e);l.appendChild(t),k.value="",p(),g()}};R.addEventListener("click",()=>{document.querySelectorAll(".completed").forEach(t=>{_(l,t)}),p()});P.addEventListener("submit",e=>{e.preventDefault(),z(),g()});F.addEventListener("click",()=>{y.getAttribute("data-theme")=="light"?(y.setAttribute("data-theme","dark"),m.src="./icon-moon.svg",m.style.transform="rotate(360deg)"):(y.setAttribute("data-theme","light"),m.src="./icon-sun.svg",m.removeAttribute("style"))});l.addEventListener("dragover",e=>{e.preventDefault();const t=document.querySelector(".dragging"),c=H(l,e.clientY);c==null?l.appendChild(t):l.insertBefore(t,c)});function H(e,t){return[...e.querySelectorAll("li[draggable='true']")].find(o=>{const n=o.getBoundingClientRect();return t<n.top+n.height/2})||null}document.addEventListener("DOMContentLoaded",j);
