(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let d;const q=new Uint8Array(16);function T(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(q)}const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function D(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}const U=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g={randomUUID:U};function I(e,t,r){if(g.randomUUID&&!t&&!e)return g.randomUUID();e=e||{};const s=e.random||(e.rng||T)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=s[n];return t}return D(s)}const y=document.documentElement,w=document.getElementById("themeSelector"),O=document.querySelector("#clearTask"),v=document.querySelector("#createTask"),N=document.querySelector("form"),m=document.querySelector(".list"),B=document.querySelectorAll(".container:not(:first-child)"),a=document.querySelector(".logo"),L=document.querySelector("main"),l=document.querySelector(".filter"),F=document.querySelectorAll(".filter__btn"),u=document.querySelector(".control__task-count"),P=m.children,R=".list__item.task",k=".list__item.task.completed",f=".list__item.task:not(.completed)",S=()=>{const e=window.innerWidth>=760,t=l.parentElement===L;e?(l.classList.remove("container"),t&&u.insertAdjacentElement("afterend",l)):!e&&!t&&(L.appendChild(l),l.classList.add("container"))};S();window.addEventListener("resize",()=>{S()});const h=e=>{document.querySelectorAll(e).forEach(t=>{t.removeAttribute("style")})},E=e=>{document.querySelectorAll(e).forEach(t=>{t.style.display="none"})},b=e=>{e.id=="filterAll"&&h(R),e.id=="filterActive"&&(h(f),E(k)),e.id=="filterCompleted"&&(h(k),E(f))},V=e=>{var t;(t=document.querySelector(".selected"))==null||t.classList.remove("selected"),e.classList.add("selected"),b(e)};F.forEach(e=>{e.addEventListener("click",()=>{V(e)})});const C=()=>{let e=document.querySelectorAll(f).length;e>0?e<2?u.textContent=`${e} item left`:u.textContent=`${e} items left`:u.textContent=""},A=()=>{C(),B.forEach(e=>{P.length>0?e.style.display="flex":e.removeAttribute("style")})},x=(e,t)=>{e.removeChild(t),A()},$=e=>{const t=document.createElement("li"),r=document.createElement("label"),s=document.createElement("input"),n=document.createElement("p"),o=document.createElement("button"),i=document.createElement("img");let p=I();return t.classList.add("list__item","task"),r.setAttribute("for",p),r.classList.add("sr-only"),r.textContent="Check box to complete task",s.type="checkbox",s.name="complete",s.id=p,s.classList.add("list__item-input"),s.addEventListener("change",()=>{const _=document.querySelector(".selected");t.classList.toggle("completed"),b(_),C()}),n.classList.add("list__item-text"),n.textContent=`${e}`,o.type="button",o.ariaLabel="remove task",o.id=`remove-${p}`,o.classList.add("list__btn-remove"),o.addEventListener("click",()=>{x(m,t)}),i.src="./icon-cross.svg",t.appendChild(r),t.appendChild(s),t.appendChild(n),o.appendChild(i),t.appendChild(o),t},j=()=>{const e=v.value.trim();if(e!==""){const t=$(e);m.appendChild(t),v.value=""}};O.addEventListener("click",()=>{document.querySelectorAll(".completed").forEach(t=>{x(m,t)})});N.addEventListener("submit",e=>{e.preventDefault(),j(),A()});w.addEventListener("click",()=>{y.getAttribute("data-theme")=="light"?(y.setAttribute("data-theme","dark"),a.src="./icon-moon.svg",a.style.transform="rotate(360deg)"):(y.setAttribute("data-theme","light"),a.src="./icon-sun.svg",a.removeAttribute("style"))});
