(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();let a;const T=new Uint8Array(16);function _(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(T)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function D(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}const U=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h={randomUUID:U};function I(e,t,c){if(h.randomUUID&&!t&&!e)return h.randomUUID();e=e||{};const s=e.random||(e.rng||_)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){c=c||0;for(let n=0;n<16;++n)t[c+n]=s[n];return t}return D(s)}const g=document.documentElement,w=document.getElementById("themeSelector"),B=document.querySelector("#clearTask"),v=document.querySelector("#createTask"),O=document.querySelector("form"),i=document.querySelector(".list"),N=document.querySelectorAll(".container:not(:first-child)"),u=document.querySelector(".logo"),L=document.querySelector("main"),d=document.querySelector(".filter"),R=document.querySelectorAll(".filter__btn"),m=document.querySelector(".control__task-count"),F=i.children,P=".list__item.task",E=".list__item.task.completed",f=".list__item.task:not(.completed)",k=()=>{const e=window.innerWidth>=760,t=d.parentElement===L;e?(d.classList.remove("container"),t&&m.insertAdjacentElement("afterend",d)):!e&&!t&&(L.appendChild(d),d.classList.add("container"))};k();window.addEventListener("resize",()=>{k()});const y=e=>{document.querySelectorAll(e).forEach(t=>{t.removeAttribute("style"),t.classList.remove("filtered")})},b=e=>{document.querySelectorAll(e).forEach(t=>{t.classList.add("filtered"),setTimeout(()=>{t.style.display="none"},350)})},S=e=>{e.id=="filterAll"&&y(P),e.id=="filterActive"&&(y(f),b(E)),e.id=="filterCompleted"&&(y(E),b(f))},V=e=>{var t;(t=document.querySelector(".selected"))==null||t.classList.remove("selected"),e.classList.add("selected"),S(e)};R.forEach(e=>{e.addEventListener("click",()=>{V(e)})});const C=()=>{let e=document.querySelectorAll(f).length;e>0?e<2?m.textContent=`${e} item left`:m.textContent=`${e} items left`:m.textContent=""},A=()=>{C(),N.forEach(e=>{F.length>0?e.style.display="flex":e.removeAttribute("style")})},q=(e,t)=>{t.classList.add("removing"),setTimeout(()=>{e.removeChild(t),A()},350)},$=e=>{const t=document.createElement("li"),c=document.createElement("label"),s=document.createElement("input"),n=document.createElement("p"),o=document.createElement("button"),l=document.createElement("img");let p=I();return t.classList.add("list__item","task"),t.setAttribute("draggable","true"),t.addEventListener("dragstart",()=>{t.classList.add("dragging")}),t.addEventListener("dragend",()=>{t.classList.remove("dragging")}),c.setAttribute("for",p),c.classList.add("sr-only"),c.textContent="Check box to complete task",s.type="checkbox",s.name="complete",s.id=p,s.classList.add("list__item-input"),s.addEventListener("change",()=>{const x=document.querySelector(".selected");t.classList.toggle("completed"),S(x),C()}),n.classList.add("list__item-text"),n.textContent=`${e}`,o.type="button",o.ariaLabel="remove task",o.id=`remove-${p}`,o.classList.add("list__btn-remove"),o.addEventListener("click",()=>{q(i,t)}),l.src="./icon-cross.svg",t.appendChild(c),t.appendChild(s),t.appendChild(n),o.appendChild(l),t.appendChild(o),t},j=()=>{const e=v.value.trim();if(e!==""){const t=$(e);i.appendChild(t),v.value=""}};B.addEventListener("click",()=>{document.querySelectorAll(".completed").forEach(t=>{q(i,t)})});O.addEventListener("submit",e=>{e.preventDefault(),j(),A()});w.addEventListener("click",()=>{g.getAttribute("data-theme")=="light"?(g.setAttribute("data-theme","dark"),u.src="./icon-moon.svg",u.style.transform="rotate(360deg)"):(g.setAttribute("data-theme","light"),u.src="./icon-sun.svg",u.removeAttribute("style"))});i.addEventListener("dragover",e=>{e.preventDefault();const t=document.querySelector(".dragging"),c=M(i,e.clientY);c==null?i.appendChild(t):i.insertBefore(t,c)});function M(e,t){return[...e.querySelectorAll("li[draggable='true']")].find(s=>{const n=s.getBoundingClientRect();return t<n.top+n.height/2})||null}
